import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as l}from"./iframe-h5e1zR-T.js";import"./preload-helper-D9Z9MdNV.js";const P=(a,b={})=>{const{autoPlayInterval:u=3e3,direction:m="horizontal",threshold:N=100}=b,e=[...a.slice(-2),...a,...a.slice(0,2)],[i,d]=l.useState(2),[c,h]=l.useState(!1),[s,n]=l.useState(!1),[o,M]=l.useState(0),[v,w]=l.useState(0),y=l.useRef(null),p=l.useRef(null),S=()=>{u<=0||(p.current=setInterval(()=>{!s&&!c&&j()},u))},D=()=>{p.current&&(clearInterval(p.current),p.current=null)};l.useEffect(()=>(S(),()=>D()),[s,c]),l.useEffect(()=>{if(!c)return;const r=setTimeout(()=>{h(!1),i<=1?d(i+a.length):i>=e.length-2&&d(i-a.length)},300);return()=>clearTimeout(r)},[i,c,a.length,e.length]);const j=()=>{c||(h(!0),d(r=>r+1))},I=()=>{c||(h(!0),d(r=>r-1))},C=r=>{n(!0),M(r),w(0),D()},k=r=>{if(!s)return;const T=r-o;w(T)},$=()=>{s&&(Math.abs(v)>N&&(v>0?I():j()),n(!1),w(0),S())},E=r=>{c||(h(!0),d(r+2))},R=(r=>r<2?a.length+r-2:r>=e.length-2?r-a.length-2:r-2)(i);return{items:e,currentIndex:i,currentRealIndex:R,isTransitioning:c,isDragging:s,containerRef:y,next:j,prev:I,goToSlide:E,handleStart:C,handleMove:k,handleEnd:$,getTransformStyle:()=>{const r=m==="horizontal"?y.current?.offsetWidth:y.current?.offsetHeight,T=-i*100,_=s&&r?v/r*100:0,z=T+_;return m==="horizontal"?`translateX(${z}%)`:`translateY(${z}%)`},originalItems:a}},x=a=>{const{direction:b="horizontal"}=a,[u]=l.useState(b),[m]=l.useState(0),e=P([{id:1,title:"첫 번째 슬라이드",color:"bg-gradient-to-br from-pink-400 to-purple-600",image:"🌸"},{id:2,title:"두 번째 슬라이드",color:"bg-gradient-to-br from-blue-400 to-cyan-600",image:"🌊"},{id:3,title:"세 번째 슬라이드",color:"bg-gradient-to-br from-green-400 to-emerald-600",image:"🌿"},{id:4,title:"네 번째 슬라이드",color:"bg-gradient-to-br from-yellow-400 to-orange-600",image:"🌅"},{id:5,title:"다섯 번째 슬라이드",color:"bg-gradient-to-br from-purple-400 to-indigo-600",image:"🌌"}],{direction:u,autoPlayInterval:3e3,threshold:100}),i=n=>{n.preventDefault();const o=u==="horizontal"?n.clientX:n.clientY;e.handleStart(o)},d=n=>{if(!e.isDragging)return;n.preventDefault();const o=u==="horizontal"?n.clientX:n.clientY;e.handleMove(o)},c=n=>{const o=u==="horizontal"?n.touches[0].clientX:n.touches[0].clientY;e.handleStart(o)},h=n=>{if(!e.isDragging)return;const o=u==="horizontal"?n.touches[0].clientX:n.touches[0].clientY;e.handleMove(o)},s=u==="horizontal";return t.jsxs("div",{className:"w-full max-w-4xl mx-auto p-6",children:[t.jsx("div",{className:"text-center mb-6",children:t.jsx("h2",{className:"text-3xl font-bold mb-4",children:"무한 터치 캐러셀 (TypeScript)"})}),t.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-2xl bg-white",children:[t.jsxs("div",{ref:e.containerRef,className:"relative cursor-grab active:cursor-grabbing select-none w-full h-96",onMouseDown:i,onMouseMove:e.isDragging?d:void 0,onMouseUp:e.isDragging?e.handleEnd:void 0,onMouseLeave:e.isDragging?e.handleEnd:void 0,onTouchStart:c,onTouchMove:h,onTouchEnd:e.handleEnd,children:[t.jsx("div",{className:`${s?"flex":"flex flex-col"} h-full ${e.isTransitioning?"transition-transform duration-300 ease-out":""}`,style:{transform:e.getTransformStyle()},children:e.items.map((n,o)=>t.jsxs("div",{className:`flex-shrink-0 ${s?"w-full":"h-full w-full"} ${n.color} flex flex-col items-center justify-center text-white relative overflow-hidden`,children:[t.jsxs("div",{className:"absolute inset-0 opacity-10",children:[t.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 rounded-full bg-white transform -translate-x-16 -translate-y-16"}),t.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 rounded-full bg-white transform translate-x-24 translate-y-24"})]}),t.jsx("div",{className:"text-8xl mb-4 animate-pulse",children:n.image}),t.jsx("h3",{className:"text-2xl font-bold mb-2 text-center z-10",children:n.title}),t.jsxs("p",{className:"text-lg opacity-90 text-center z-10",children:["슬라이드 #",n.id]}),t.jsx("p",{className:"text-sm opacity-75 mt-2 z-10",children:s?"좌우로 드래그":"상하로 드래그"})]},`${n.id}-${o}`))}),s?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:e.prev,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-3 rounded-full transition-all duration-200 hover:scale-110",disabled:e.isTransitioning,children:"👈"}),t.jsx("button",{onClick:e.next,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-3 rounded-full transition-all duration-200 hover:scale-110",disabled:e.isTransitioning,children:"👉"})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:e.prev,className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-3 rounded-full transition-all duration-200 hover:scale-110",disabled:e.isTransitioning,children:"👆"}),t.jsx("button",{onClick:e.next,className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-3 rounded-full transition-all duration-200 hover:scale-110",disabled:e.isTransitioning,children:"👇"})]})]}),s&&t.jsx("div",{className:`p-4 bg-gray-50 ${s?"flex justify-center space-x-2":"flex flex-col items-center space-y-2"}`,children:e.originalItems.map((n,o)=>t.jsx("button",{onClick:()=>e.goToSlide(o),className:`w-3 h-3 rounded-full transition-all duration-300 ${e.currentRealIndex===o?"bg-blue-500 scale-125":"bg-gray-300 hover:bg-gray-400"}`,disabled:e.isTransitioning},o))})]},m)]})};x.__docgenInfo={description:"",methods:[],displayName:"InfiniteCarousel",props:{direction:{required:!1,tsType:{name:"union",raw:"'horizontal' | 'vertical'",elements:[{name:"literal",value:"'horizontal'"},{name:"literal",value:"'vertical'"}]},description:""}}};const H={title:"features/InfiniteCarousel",component:x},f=()=>t.jsx(x,{}),g=()=>t.jsx(x,{direction:"vertical"});f.__docgenInfo={description:"",methods:[],displayName:"Default"};g.__docgenInfo={description:"",methods:[],displayName:"Vertical"};f.parameters={...f.parameters,docs:{...f.parameters?.docs,source:{originalSource:"() => <InfiniteCarousel />",...f.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:'() => <InfiniteCarousel direction="vertical" />',...g.parameters?.docs?.source}}};const O=["Default","Vertical"];export{f as Default,g as Vertical,O as __namedExportsOrder,H as default};
